<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Lecture 3: Path models</title>
    <meta charset="utf-8" />
    <meta name="author" content="Dr Nemanja Vaci" />
    <script src="libs/header-attrs-2.11/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
    <script src="libs/clipboard-2.0.6/clipboard.min.js"></script>
    <link href="libs/shareon-1.4.1/shareon.min.css" rel="stylesheet" />
    <script src="libs/shareon-1.4.1/shareon.min.js"></script>
    <link href="libs/xaringanExtra-shareagain-0.2.6/shareagain.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-shareagain-0.2.6/shareagain.js"></script>
  </head>
  <body>
    <textarea id="source">

class: center, inverse
background-image: url("40084978.jpg")

# Lecture 3: Path models (Structural Equation Modelling) 

### Dr Nemanja Vaci
---

&lt;style type="text/css"&gt;
body, td {
   font-size: 15px;
}
code.r{
  font-size: 15px;
}
pre {
  font-size: 20px
}
.huge .remark-code { /*Change made here*/
  font-size: 200% !important;
}
.tiny .remark-code { /*Change made here*/
  font-size: 80% !important;
}


&lt;/style&gt;

## Press record

<style>.shareagain-bar {
--shareagain-foreground: rgb(255, 255, 255);
--shareagain-background: rgba(0,0,0,.2);
--shareagain-linkedin: none;
--shareagain-pinterest: none;
--shareagain-pocket: none;
--shareagain-reddit: none;
}</style>

---

## Corrections from the previous lecture

---

## R code

[Link](https://nvaci.github.io/Lecture_3_code/Lecture3_Rcode.html)

---

## Structural equation modelling (SEM)

General framework that uses various models to test relationships among variables &lt;br/&gt;

Other terms: covariance structure analysis, covariance structure modelling, __causal modelling__&lt;br/&gt;

a) Regression model &lt;br/&gt;
 - Legendre or Gauss (1805)&lt;br/&gt;

b) Confirmatory factor analysis&lt;br/&gt;
 - Howe (1955), Anderson &amp; Rubin (1956), Karl Joreskog (1963)&lt;br/&gt;
 - Latent factor structure - Spearman (1904, 1927) &lt;br/&gt;
 
c) Path model &lt;br/&gt;
 - Sewell Wrigh (1918, 1921)&lt;br/&gt;
 
d) Structural equation modelling: confirmatory factor + path model

---

## Terminology

Manifest variables: observed/collected variables &lt;br/&gt; &lt;br/&gt; 
Latent variables: infered measures - hypothetical constructs  &lt;br/&gt;
 - Indicator variables: measures used to infer the latent concepts
&lt;br/&gt;
&lt;br/&gt; 

Endogenous variables: dependent outcomes &lt;br/&gt; &lt;br/&gt; 
Exogenous variables: predictors &lt;br/&gt; &lt;br/&gt; &lt;br/&gt; 

Focus on covariance structure instead of mean &lt;br/&gt; &lt;br/&gt; 

---

##  Graphical representation of the model

.center[
&lt;img src="graphical.png", width = "120%"&gt; &lt;br/&gt;
]
---

## Prerequisites

Theory: Strong theoretical assumptions that could be tested using the data and specification of the model &lt;br/&gt;&lt;br/&gt;

Data: large samples, N:p rule - 20:1, more data usually better estimates. &lt;br/&gt;
 - We are not that interested in significance: &lt;br/&gt;&lt;br/&gt;
  a) Overall behaviour of the model more interesting&lt;br/&gt;&lt;br/&gt;
  b) More data higher probability of significant results (weak effects)&lt;br/&gt;&lt;br/&gt;
  c) Latent models are estimated by anchoring on indicator variables, different estimation can result in different patterns&lt;br/&gt;&lt;br/&gt;
  d) Not that interesting theoretically&lt;br/&gt;

---

## Path analysis

Moderation, Mediation and Conditional Process Analysis &lt;br/&gt;&lt;br/&gt;
---

## Path analysis 

Moderation: An association between two variables is moderated when its size or sign depends on the values of the third variable &lt;br/&gt;&lt;br/&gt;

.center[
&lt;img src="moder.png", width = "80%"&gt; &lt;br/&gt;
]

---

## Path analysis

Mediation: Variation in X variable influences variation in one of the mediators, which in turn result in variation in Y &lt;br/&gt;&lt;br/&gt;

.center[
&lt;img src="mediat.png", width = "80%"&gt; &lt;br/&gt;
]

---

## Path analysis

Conditional process analysis: combination of mediation and moderation &lt;br/&gt;

.center[
&lt;img src="CPA.png", width = "80%"&gt; &lt;br/&gt;
]

---

## Different possibilities

.center[
&lt;img src="otherMod.png", width = "70%"&gt; &lt;br/&gt;
]

---

## Comment on causality and correlation

SEM does not test causal relationship, there are no statistical procedures that do this &lt;br/&gt;&lt;br/&gt;&lt;br/&gt;

Mathematical tools that help us to understand the data, extract the signal and interpret it &lt;br/&gt; &lt;br/&gt;

---

## Lavaan in R syntax

.center[
&lt;img src="Rsyntax.png", width = "60%"&gt; &lt;br/&gt;
]

---

## Linear regression in Lavaan




```r
#install.packages('lavaan')
require(lavaan)
model1&lt;-'
Height~1+Age #regression
'
fit1&lt;-sem(model1, data=Babies)
```

.center[
&lt;img src="Regression.png", width = "60%"&gt; &lt;br/&gt;
]

---

## Summary of the model
&lt;style type="text/css"&gt;
pre {
  max-height: 300px;
  overflow-y: auto;
}

pre[class] {
  max-height: 100px;
}
&lt;/style&gt;

&lt;style type="text/css"&gt;
.scroll-100 {
  max-height: 100px;
  overflow-y: auto;
  background-color: inherit;
}
&lt;/style&gt;


```r
summary(fit1)
```

```
## lavaan 0.6-9 ended normally after 14 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         3
##                                                       
##   Number of observations                           100
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.000
##   Degrees of freedom                                 0
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   Height ~                                            
##     Age               0.143    0.064    2.251    0.024
## 
## Intercepts:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Height           57.026    1.176   48.509    0.000
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Height           27.352    3.868    7.071    0.000
```

---

## Regression



```r
lm1&lt;-lm(Height~Age, data=Babies)
summary(lm1)
```

```
## 
## Call:
## lm(formula = Height ~ Age, data = Babies)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -14.4765  -4.1601  -0.3703   3.9198  12.3842 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 57.02580    1.18751  48.021   &lt;2e-16 ***
## Age          0.14317    0.06426   2.228   0.0282 *  
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 5.283 on 98 degrees of freedom
## Multiple R-squared:  0.04821,	Adjusted R-squared:  0.0385 
## F-statistic: 4.964 on 1 and 98 DF,  p-value: 0.02817
```

---

## Visualisation


```r
#install.packages('tidySEM')
require('tidySEM')
graph_sem(fit1, variance_diameter=.2)
```

&lt;img src="PathModel_files/figure-html/unnamed-chunk-7-1.png" style="display: block; margin: auto;" /&gt;

---

## Interactions 1

We cannot add an interaction using _*_ sign as we would have in normal regression 


```r
model2&lt;-'
Height~1+Age*Weight
'
fit2&lt;-sem(model2, data=Babies)
summary(fit2)
```

```
## lavaan 0.6-9 ended normally after 14 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         3
##                                                       
##   Number of observations                           100
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.000
##   Degrees of freedom                                 0
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate    Std.Err  z-value  P(&gt;|z|)
##   Height ~                                              
##     Weight   (Age)      0.004    0.001    4.209    0.000
## 
## Intercepts:
##                    Estimate    Std.Err  z-value  P(&gt;|z|)
##    .Height             41.923    4.180   10.030    0.000
## 
## Variances:
##                    Estimate    Std.Err  z-value  P(&gt;|z|)
##    .Height             24.412    3.452    7.071    0.000
```

---

## Interactions 2

We cannot add an interaction using _*_ sign as we would have in normal regression 

We need to create a new variable that codes the interaction


```r
Babies$AgeWeight = Babies$Age * Babies$Weight
Babies$AgeGender = Babies$Age * ifelse(Babies$Gender=='Girls',0,1) 
head(Babies)
```

```
##   Age   Weight   Height Gender Crawl TummySleep PhysicalSt AgeWeight AgeGender
## 1   4 3667.525 61.47215  Girls     0          1   32.57839  14670.10         0
## 2   7 3871.738 56.05987  Girls     1          0   25.43127  27102.16         0
## 3  22 4339.391 59.28653   Boys     1          1   29.91834  95466.60        22
## 4  26 4448.422 55.17084   Boys     0          1   24.71719 115658.98        26
## 5  24 4309.178 60.26487   Boys     1          0   30.41685 103420.28        24
## 6  11 4365.727 54.55308   Boys     1          1   34.54519  48023.00        11
```

---

## Interactions 3

We cannot add an interaction using __*__ sign as we would have in normal regression 

We need to create a new variable that codes the interaction


```r
model2&lt;-'
Height~1+Age+Weight + AgeWeight
'
fit2&lt;-sem(model2, data=Babies)
summary(fit2)
```

```
## lavaan 0.6-9 ended normally after 22 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         5
##                                                       
##   Number of observations                           100
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.000
##   Degrees of freedom                                 0
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate        Std.Err  z-value  P(&gt;|z|)
##   Height ~                                                  
##     Age                     0.691    0.493    1.402    0.161
##     Weight                  0.007    0.002    2.889    0.004
##     AgeWeight              -0.000    0.000   -1.141    0.254
## 
## Intercepts:
##                    Estimate        Std.Err  z-value  P(&gt;|z|)
##    .Height                 30.724    9.205    3.338    0.001
## 
## Variances:
##                    Estimate        Std.Err  z-value  P(&gt;|z|)
##    .Height                 22.925    3.242    7.071    0.000
```

---

## Theory

Development of muscles in early months of infancy supports physical strenght, where as the time passes infants are becoming physically stronger. Infants that experience stronger early development, measured through their height also experience higher levels of physical strenght.  &lt;br/&gt; &lt;br/&gt;

Hypothethical assumptions:  &lt;br/&gt;&lt;br/&gt;
Positive effect of age on the physical activity  &lt;br/&gt;&lt;br/&gt;
Effect of age on physical activity is mediated by Babies height  &lt;br/&gt; 

---

## Specification of the model

Representation of our hypothetical assumptions in the form of the structural equation model

Let's check what our Babies think: 

.center[
&lt;img src="Image1.png", width = "80%"&gt; &lt;br/&gt;
]

---

## Representation of the model


.center[
&lt;img src="Image2.png", width = "80%"&gt; &lt;br/&gt;
]

---

## Estimation of the model


```r
modelStrength&lt;-'
Height~Age
PhysicalSt~Age+Height
'
fitStr1&lt;-sem(modelStrength, data=Babies)
summary(fitStr1)
```

```
## lavaan 0.6-9 ended normally after 15 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         5
##                                                       
##   Number of observations                           100
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.000
##   Degrees of freedom                                 0
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   Height ~                                            
##     Age               0.143    0.064    2.251    0.024
##   PhysicalSt ~                                        
##     Age              -0.007    0.061   -0.120    0.905
##     Height            0.425    0.094    4.518    0.000
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Height           27.352    3.868    7.071    0.000
##    .PhysicalSt       24.183    3.420    7.071    0.000
```

---

## Visualisation of the results


```r
require(semPlot)
semPaths(fitStr1, 'model','est', edge.label.cex = 1.1)
```

&lt;img src="PathModel_files/figure-html/unnamed-chunk-12-1.png" style="display: block; margin: auto;" /&gt;

---

## What is the effect of Age? 

.center[
&lt;img src="Image2.png", width = "70%"&gt;
]

Direct effect: `\(a = -0.01\)`&lt;br/&gt;
Indirect effect: `\(b*c= 0.14 * 0.42\)`&lt;br/&gt;
Total effect: `\(a+(b*c)=-0.01+(0.14*0.42)\)`

---

## Age effects


```r
modelStrength&lt;-'
Height~b*Age
PhysicalSt~a*Age+c*Height

##quantification of effects
dir := a
ind := b*c
tot := dir+ind
'
fitStr1&lt;-sem(modelStrength, data=Babies)
summary(fitStr1)
```

```
## lavaan 0.6-9 ended normally after 15 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         5
##                                                       
##   Number of observations                           100
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.000
##   Degrees of freedom                                 0
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   Height ~                                            
##     Age        (b)    0.143    0.064    2.251    0.024
##   PhysicalSt ~                                        
##     Age        (a)   -0.007    0.061   -0.120    0.905
##     Height     (c)    0.425    0.094    4.518    0.000
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Height           27.352    3.868    7.071    0.000
##    .PhysicalSt       24.183    3.420    7.071    0.000
## 
## Defined Parameters:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##     dir              -0.007    0.061   -0.120    0.905
##     ind               0.061    0.030    2.015    0.044
##     tot               0.053    0.066    0.815    0.415
```

---

## More pathways

&lt;img src="image4.png" width="70%" style="display: block; margin: auto;" /&gt;

---

## Lets modify model


```r
modelStrength2&lt;-'
Height~b*Age
Weight~e*Age
PhysicalSt~a*Age+c*Height+f*Weight

##quantification of effects
dir := a
ind := b*c+e*f
tot := dir+ind
'
```

---

## Results


```r
fitStr2&lt;-sem(modelStrength2, data=Babies)
```

```
## Warning in lav_data_full(data = data, group = group, cluster = cluster, : lavaan
## WARNING: some observed variances are (at least) a factor 1000 times larger than
## others; use varTable(fit) to investigate
```

```r
summary(fitStr2)
```

```
## lavaan 0.6-9 ended normally after 32 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         8
##                                                       
##   Number of observations                           100
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                16.364
##   Degrees of freedom                                 1
##   P-value (Chi-square)                           0.000
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate    Std.Err   z-value  P(&gt;|z|)
##   Height ~                                               
##     Age        (b)      0.143     0.064    2.251    0.024
##   Weight ~                                               
##     Age        (e)      2.439     5.774    0.422    0.673
##   PhysicalSt ~                                           
##     Age        (a)     -0.005     0.061   -0.075    0.940
##     Height     (c)      0.387     0.094    4.138    0.000
##     Weight     (f)      0.001     0.001    1.032    0.302
## 
## Variances:
##                    Estimate    Std.Err   z-value  P(&gt;|z|)
##    .Height             27.352     3.868    7.071    0.000
##    .Weight         225306.345 31863.129    7.071    0.000
##    .PhysicalSt         23.966     3.389    7.071    0.000
## 
## Defined Parameters:
##                    Estimate    Std.Err   z-value  P(&gt;|z|)
##     dir                -0.005     0.061   -0.075    0.940
##     ind                 0.058     0.029    2.014    0.044
##     tot                 0.053     0.065    0.826    0.409
```

---

## Additional information


```r
parameterestimates(fitStr2, boot.ci.type ='bca.simple', standardized = T)
```

```
##           lhs op        rhs label        est        se      z pvalue   ci.lower
## 1      Height  ~        Age     b      0.143     0.064  2.251  0.024      0.018
## 2      Weight  ~        Age     e      2.439     5.774  0.422  0.673     -8.878
## 3  PhysicalSt  ~        Age     a     -0.005     0.061 -0.075  0.940     -0.124
## 4  PhysicalSt  ~     Height     c      0.387     0.094  4.138  0.000      0.204
## 5  PhysicalSt  ~     Weight     f      0.001     0.001  1.032  0.302     -0.001
## 6      Height ~~     Height           27.352     3.868  7.071  0.000     19.771
## 7      Weight ~~     Weight       225306.345 31863.129  7.071  0.000 162855.760
## 8  PhysicalSt ~~ PhysicalSt           23.966     3.389  7.071  0.000     17.323
## 9         Age ~~        Age           67.588     0.000     NA     NA     67.588
## 10        dir :=          a   dir     -0.005     0.061 -0.075  0.940     -0.124
## 11        ind :=    b*c+e*f   ind      0.058     0.029  2.014  0.044      0.002
## 12        tot :=    dir+ind   tot      0.053     0.065  0.826  0.409     -0.073
##      ci.upper     std.lv std.all std.nox
## 1       0.268      0.143   0.220   0.027
## 2      13.755      2.439   0.042   0.005
## 3       0.115     -0.005  -0.007  -0.001
## 4       0.571      0.387   0.389   0.389
## 5       0.003      0.001   0.095   0.095
## 6      34.933     27.352   0.952   0.952
## 7  287756.930 225306.345   0.998   0.998
## 8      30.609     23.966   0.840   0.840
## 9      67.588     67.588   1.000  67.588
## 10      0.115     -0.005  -0.007  -0.001
## 11      0.115      0.058   0.089   0.011
## 12      0.180      0.053   0.082   0.010
```

---

## Categorical variables: exogenous

&lt;img src="image5.png" width="70%" style="display: block; margin: auto;" /&gt;
---

## Results: categorical predictor exogenous


```r
Babies$Gender=ifelse(Babies$Gender=='Girls',0,1)

modelStrength3&lt;-'
Height~Age
PhysicalSt~Age+Height+Gender
'
fitStr3&lt;-sem(modelStrength3, data=Babies)
summary(fitStr3)
```

```
## lavaan 0.6-9 ended normally after 21 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         6
##                                                       
##   Number of observations                           100
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.630
##   Degrees of freedom                                 1
##   P-value (Chi-square)                           0.427
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   Height ~                                            
##     Age               0.143    0.064    2.251    0.024
##   PhysicalSt ~                                        
##     Age              -0.007    0.061   -0.116    0.907
##     Height            0.426    0.094    4.526    0.000
##     Gender            0.090    0.986    0.091    0.927
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Height           27.352    3.868    7.071    0.000
##    .PhysicalSt       24.181    3.420    7.071    0.000
```

---

## Categorical variables: endogenous

If it is endogenous (being predicted), then we need to specify this as a categorical variable and use different estimator (WLSMV)

&lt;img src="image6.png" width="70%" style="display: block; margin: auto;" /&gt;

---

## Results: categorical predictor 2


```r
modelStrength4&lt;-'
Height~Age
Gender~Age
PhysicalSt~Age+Height+Gender
'
fitStr4&lt;-sem(modelStrength4, ordered = c('Gender'),data=Babies)
summary(fitStr4)
```

```
## lavaan 0.6-9 ended normally after 32 iterations
## 
##   Estimator                                       DWLS
##   Optimization method                           NLMINB
##   Number of model parameters                        10
##                                                       
##   Number of observations                           100
##                                                       
## Model Test User Model:
##                                               Standard      Robust
##   Test Statistic                                 0.666       0.666
##   Degrees of freedom                                 1           1
##   P-value (Chi-square)                           0.415       0.415
##   Scaling correction factor                                  1.000
##   Shift parameter                                           -0.000
##        simple second-order correction                             
## 
## Parameter Estimates:
## 
##   Standard errors                           Robust.sem
##   Information                                 Expected
##   Information saturated (h1) model        Unstructured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   Height ~                                            
##     Age               0.143    0.060    2.397    0.017
##   Gender ~                                            
##     Age              -0.008    0.015   -0.545    0.586
##   PhysicalSt ~                                        
##     Age              -0.009    0.071   -0.123    0.902
##     Height            0.425    0.098    4.322    0.000
##     Gender           -0.164    0.663   -0.248    0.804
## 
## Intercepts:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Height           57.026    1.172   48.649    0.000
##    .Gender            0.000                           
##    .PhysicalSt        5.678    5.801    0.979    0.328
## 
## Thresholds:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##     Gender|t1        -0.189    0.284   -0.666    0.505
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Height           27.352    4.513    6.061    0.000
##    .Gender            1.000                           
##    .PhysicalSt       24.156    3.551    6.803    0.000
## 
## Scales y*:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##     Gender            1.000
```

---

## Conditional process analysis


```r
modelStrengthCond&lt;-'
Height~Age
PhysicalSt~Age+Height+AgeGender
'
```

&lt;img src="image7.png" width="70%" style="display: block; margin: auto;" /&gt;
---
## Conditional process analysis: results


```r
fitStrCond&lt;-sem(modelStrengthCond, data=Babies)
summary(fitStrCond)
```

```
## lavaan 0.6-9 ended normally after 14 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         6
##                                                       
##   Number of observations                           100
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 1.628
##   Degrees of freedom                                 1
##   P-value (Chi-square)                           0.202
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   Height ~                                            
##     Age               0.143    0.064    2.251    0.024
##   PhysicalSt ~                                        
##     Age              -0.008    0.066   -0.128    0.898
##     Height            0.425    0.094    4.524    0.000
##     AgeGender         0.002    0.053    0.043    0.966
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Height           27.352    3.868    7.071    0.000
##    .PhysicalSt       24.182    3.420    7.071    0.000
```
---

## Intepretation of the predictors


```
## lavaan 0.6-9 ended normally after 15 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         5
##                                                       
##   Number of observations                           100
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.000
##   Degrees of freedom                                 0
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   Height ~                                            
##     Age        (b)    0.143    0.064    2.251    0.024
##   PhysicalSt ~                                        
##     Age        (a)   -0.007    0.061   -0.120    0.905
##     Height     (c)    0.425    0.094    4.518    0.000
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Height           27.352    3.868    7.071    0.000
##    .PhysicalSt       24.183    3.420    7.071    0.000
## 
## Defined Parameters:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##     dir              -0.007    0.061   -0.120    0.905
##     ind               0.061    0.030    2.015    0.044
##     tot               0.053    0.066    0.815    0.415
```

Model predicts that: 
1 month older Babies are in average taller by 0.143  &lt;br/&gt;&lt;br/&gt;
Comparing babies that have same height, but are 1 month older model predicts that they are on average weaker by 0.007 &lt;br/&gt;
Comparing babies that have same age, but are 1 cm taller model predicts that they are stronger by 0.425 &lt;br/&gt;
Indirect effect: for every __b__ (0.143) unit increase in the association between age and height, there is an __ind__ (0.061) increase in strenght of the babies
---

## Can model be estimated? 

Total Number of the parameters that we can estimate: `\(\frac{variables*(variables+1)}{2}\)` &lt;br/&gt;


.center[
&lt;img src="Image2.png", width = "60%"&gt;
]

Three path coefficients  &lt;br/&gt;
Two error variances  &lt;br/&gt;
One independent variable variance &lt;br/&gt;

---

## Model identification

1. Underindentified: more free parameters than total possible parameters  &lt;br/&gt; &lt;br/&gt;
2. Just-identified: equal number of free parameters and total possible parameters  &lt;br/&gt;&lt;br/&gt;
3. Overidentified: fewer free parameters than total possible parameters  &lt;br/&gt; &lt;br/&gt;
&lt;br/&gt;
Parameters can either be: free, fixed or constrained  &lt;br/&gt;

---

## Fixing parameters


```r
modelStrengthFix&lt;-'
Height~Age
PhysicalSt~0  *Age+Height
'
fitStr1Fix&lt;-sem(modelStrengthFix, data=Babies)
summary(fitStr1Fix)
```

```
## lavaan 0.6-9 ended normally after 18 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         4
##                                                       
##   Number of observations                           100
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.014
##   Degrees of freedom                                 1
##   P-value (Chi-square)                           0.905
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   Height ~                                            
##     Age               0.143    0.064    2.251    0.024
##   PhysicalSt ~                                        
##     Age               0.000                           
##     Height            0.422    0.092    4.604    0.000
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Height           27.352    3.868    7.071    0.000
##    .PhysicalSt       24.186    3.420    7.071    0.000
```

---

## Constraining parameters


```r
modelStrengthCons&lt;-'
Height~a*Age
PhysicalSt~a*Age+Height
'
fitStr1Cons&lt;-sem(modelStrengthCons, data=Babies)
summary(fitStr1Cons)
```

```
## lavaan 0.6-9 ended normally after 14 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         5
##   Number of equality constraints                     1
##                                                       
##   Number of observations                           100
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 2.882
##   Degrees of freedom                                 1
##   P-value (Chi-square)                           0.090
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   Height ~                                            
##     Age        (a)    0.065    0.044    1.479    0.139
##   PhysicalSt ~                                        
##     Age        (a)    0.065    0.044    1.479    0.139
##     Height            0.400    0.094    4.271    0.000
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Height           27.764    3.926    7.071    0.000
##    .PhysicalSt       24.520    3.468    7.071    0.000
```

---

## Overall fit: Chi-square test 

Measure of how well model-implied covariance matrix fits data covariance &lt;br/&gt; &lt;br/&gt;
We would prefer not to reject the null hypothesis in this case &lt;br/&gt;

Assumptions: &lt;br/&gt;
Multivariate normality &lt;br/&gt;
N is sufficiently large (150+)&lt;br/&gt;
Parameters are not at boundary or invalid (e.g. variance of zero)&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;

With the large samples it is sensitive to small misfits &lt;br/&gt;
Nonormality induces bias &lt;br/&gt; 
---

## Overall fit: Other indices

.center[
&lt;img src="fitInd.png", width = "60%"&gt;
]

---

## Fit indices of our model


```r
summary(fitStr1Cons, fit.measures=TRUE)
```

```
## lavaan 0.6-9 ended normally after 14 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         5
##   Number of equality constraints                     1
##                                                       
##   Number of observations                           100
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 2.882
##   Degrees of freedom                                 1
##   P-value (Chi-square)                           0.090
## 
## Model Test Baseline Model:
## 
##   Test statistic                                24.179
##   Degrees of freedom                                 3
##   P-value                                        0.000
## 
## User Model versus Baseline Model:
## 
##   Comparative Fit Index (CFI)                    0.911
##   Tucker-Lewis Index (TLI)                       0.733
## 
## Loglikelihood and Information Criteria:
## 
##   Loglikelihood user model (H0)               -609.950
##   Loglikelihood unrestricted model (H1)       -608.509
##                                                       
##   Akaike (AIC)                                1227.899
##   Bayesian (BIC)                              1238.320
##   Sample-size adjusted Bayesian (BIC)         1225.687
## 
## Root Mean Square Error of Approximation:
## 
##   RMSEA                                          0.137
##   90 Percent confidence interval - lower         0.000
##   90 Percent confidence interval - upper         0.334
##   P-value RMSEA &lt;= 0.05                          0.130
## 
## Standardized Root Mean Square Residual:
## 
##   SRMR                                           0.056
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   Height ~                                            
##     Age        (a)    0.065    0.044    1.479    0.139
##   PhysicalSt ~                                        
##     Age        (a)    0.065    0.044    1.479    0.139
##     Height            0.400    0.094    4.271    0.000
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Height           27.764    3.926    7.071    0.000
##    .PhysicalSt       24.520    3.468    7.071    0.000
```

---

## Fit indices for our model

TLI: fit of .95 indicates that the fitted model improves the fit by 95% relative to the null mode, works OK with smaller sample sizes &lt;br/&gt; &lt;br/&gt;
CFI: Same as TLI, but not very sensitive to sample size &lt;br/&gt; &lt;br/&gt;
RMSEA: difference between the residuals of the sample covariance matrix and hypothesized model. If we have different scales it is hard to interpret, then we can check standardised root mean square residual (SRMR)&lt;br/&gt;&lt;br/&gt;

---

class: inverse, middle, center
# Practical aspect
---

## Getting the data

Influence of the media upon subsequent actions: [Link](http://finzi.psych.upenn.edu/library/psych/html/tal_or.html)


```r
NBAPath&lt;-read.table('NBApath.txt', sep='\t', header=T)
```
---

## What is in the data? 


```r
summary(NBAPath)
```

```
##      TEAM                PCT            Player              Pos           
##  Length:3810        Min.   :0.1061   Length:3810        Length:3810       
##  Class :character   1st Qu.:0.3780   Class :character   Class :character  
##  Mode  :character   Median :0.5000   Mode  :character   Mode  :character  
##                     Mean   :0.4905                                        
##                     3rd Qu.:0.6098                                        
##                     Max.   :0.8902                                        
##       Age              GP             PER        
##  Min.   :18.00   Min.   : 1.00   Min.   :-13.10  
##  1st Qu.:23.00   1st Qu.:34.00   1st Qu.: 10.00  
##  Median :25.00   Median :61.00   Median : 12.80  
##  Mean   :26.05   Mean   :53.73   Mean   : 12.75  
##  3rd Qu.:29.00   3rd Qu.:77.00   3rd Qu.: 15.80  
##  Max.   :43.00   Max.   :82.00   Max.   : 35.20
```

---

## Correlation matrix


```r
cor(NBAPath[,c(2,5:7)])
```

```
##            PCT        Age         GP        PER
## PCT 1.00000000 0.14304325 0.08849459 0.07720633
## Age 0.14304325 1.00000000 0.05170204 0.03598025
## GP  0.08849459 0.05170204 1.00000000 0.45360129
## PER 0.07720633 0.03598025 0.45360129 1.00000000
```

---

## Univariate plots


```r
par(mfrow=c(1,2), bty='n',mar = c(5, 4, .1, .1), cex=1.1, pch=16)
plot(density(NBAPath$PER), main='')
plot(density(NBAPath$PCT), main='')
```

&lt;img src="PathModel_files/figure-html/unnamed-chunk-32-1.png" style="display: block; margin: auto;" /&gt;

---

## Bivariate plots


```r
par(mfrow=c(1,2), bty='n',mar = c(5, 4, .1, .1), cex=1.1, pch=16)
plot(NBAPath$Age, NBAPath$PER)
plot(NBAPath$GP, NBAPath$PER)
```

&lt;img src="PathModel_files/figure-html/unnamed-chunk-33-1.png" style="display: block; margin: auto;" /&gt;

---

## Specification of the model 

&lt;img src="image8.png" width="70%" style="display: block; margin: auto;" /&gt;


---

## Identification of the model


Three path coefficients  &lt;br/&gt;
Two error variances  &lt;br/&gt;
One independent variable variance &lt;br/&gt;&lt;br/&gt;&lt;br/&gt;

Number of distinct parameters that we can estimate: 3*4/2 = 6&lt;br/&gt;&lt;br/&gt;

Just identified model&lt;br/&gt;

---

## Estimating the model


```r
NBAmod1&lt;-'
GP~b*Age
PER~a*Age+c*GP

dir := a
ind := b*c
tot := dir + ind
'
NBAfit1&lt;-sem(NBAmod1, data=NBAPath)
summary(NBAfit1)
```

```
## lavaan 0.6-9 ended normally after 21 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         5
##                                                       
##   Number of observations                          3810
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.000
##   Degrees of freedom                                 0
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   GP ~                                                
##     Age        (b)    0.315    0.098    3.196    0.001
##   PER ~                                               
##     Age        (a)    0.016    0.018    0.869    0.385
##     GP         (c)    0.093    0.003   31.333    0.000
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .GP              645.883   14.798   43.646    0.000
##    .PER              21.834    0.500   43.646    0.000
## 
## Defined Parameters:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##     dir               0.016    0.018    0.869    0.385
##     ind               0.029    0.009    3.179    0.001
##     tot               0.045    0.020    2.222    0.026
```

---

## Explained variance - R2

When just identified model, we cannot use global indices of model fit &lt;br/&gt;
We need to use standard measures &lt;br/&gt;


```r
inspect(NBAfit1, 'r2')
```

```
##    GP   PER 
## 0.003 0.206
```

```r
-2*logLik(NBAfit1)
```

```
## 'log Lik.' 58025.67 (df=5)
```

```r
AIC(NBAfit1)
```

```
## [1] 58035.67
```

---

## Respecification of the model 

&lt;img src="image9.png" width="70%" style="display: block; margin: auto;" /&gt;

---

## Estimating the model


```r
NBAmod2&lt;-'
GP~b*Age
PER~c*GP

ind := b*c
'
NBAfit2&lt;-sem(NBAmod2, data=NBAPath)
summary(NBAfit2, fit.measures=T)
```

```
## lavaan 0.6-9 ended normally after 21 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         4
##                                                       
##   Number of observations                          3810
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.755
##   Degrees of freedom                                 1
##   P-value (Chi-square)                           0.385
## 
## Model Test Baseline Model:
## 
##   Test statistic                               888.633
##   Degrees of freedom                                 3
##   P-value                                        0.000
## 
## User Model versus Baseline Model:
## 
##   Comparative Fit Index (CFI)                    1.000
##   Tucker-Lewis Index (TLI)                       1.001
## 
## Loglikelihood and Information Criteria:
## 
##   Loglikelihood user model (H0)             -29013.211
##   Loglikelihood unrestricted model (H1)     -29012.833
##                                                       
##   Akaike (AIC)                               58034.422
##   Bayesian (BIC)                             58059.403
##   Sample-size adjusted Bayesian (BIC)        58046.693
## 
## Root Mean Square Error of Approximation:
## 
##   RMSEA                                          0.000
##   90 Percent confidence interval - lower         0.000
##   90 Percent confidence interval - upper         0.041
##   P-value RMSEA &lt;= 0.05                          0.987
## 
## Standardized Root Mean Square Residual:
## 
##   SRMR                                           0.005
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   GP ~                                                
##     Age        (b)    0.315    0.098    3.196    0.001
##   PER ~                                               
##     GP         (c)    0.093    0.003   31.417    0.000
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .GP              645.883   14.798   43.646    0.000
##    .PER              21.838    0.500   43.646    0.000
## 
## Defined Parameters:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##     ind               0.029    0.009    3.179    0.001
```
---

## Model comparison


```r
#install.packages('semTools')
require(semTools)
diff&lt;-compareFit(NBAfit1, NBAfit2)
summary(diff)
```

```
## ################### Nested Model Comparison #########################
## Chi-Squared Difference Test
## 
##         Df   AIC   BIC Chisq Chisq diff Df diff Pr(&gt;Chisq)
## NBAfit1  0 58036 58067 0.000                              
## NBAfit2  1 58034 58059 0.755      0.755       1     0.3849
## 
## ####################### Model Fit Indices ###########################
##         chisq df pvalue rmsea    cfi    tli  srmr        aic        bic
## NBAfit1 .000†        NA .000† 1.000† 1.000  .000† 58035.667  58066.894 
## NBAfit2 .755   1   .385 .000† 1.000† 1.001† .005  58034.422† 58059.403†
## 
## ################## Differences in Fit Indices #######################
##                   df rmsea cfi   tli  srmr    aic   bic
## NBAfit2 - NBAfit1  1     0   0 0.001 0.005 -1.245 -7.49
```

---

## Respecification of the model 

&lt;img src="image10.png" width="70%" style="display: block; margin: auto;" /&gt;

---

## Estimating the model


```r
NBAmod3&lt;-'
GP~b*Age
PER~a*Age+c*GP
PCT~d*PER
ind1 := b*c*d
ind2 := a*d
tot := ind1 + ind2
'
NBAfit3&lt;-sem(NBAmod3, data=NBAPath)
summary(NBAfit3, fit.measures=T)
```

```
## lavaan 0.6-9 ended normally after 30 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         7
##                                                       
##   Number of observations                          3810
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                87.884
##   Degrees of freedom                                 2
##   P-value (Chi-square)                           0.000
## 
## Model Test Baseline Model:
## 
##   Test statistic                               999.296
##   Degrees of freedom                                 6
##   P-value                                        0.000
## 
## User Model versus Baseline Model:
## 
##   Comparative Fit Index (CFI)                    0.914
##   Tucker-Lewis Index (TLI)                       0.741
## 
## Loglikelihood and Information Criteria:
## 
##   Loglikelihood user model (H0)             -27272.876
##   Loglikelihood unrestricted model (H1)     -27228.934
##                                                       
##   Akaike (AIC)                               54559.752
##   Bayesian (BIC)                             54603.469
##   Sample-size adjusted Bayesian (BIC)        54581.227
## 
## Root Mean Square Error of Approximation:
## 
##   RMSEA                                          0.106
##   90 Percent confidence interval - lower         0.088
##   90 Percent confidence interval - upper         0.126
##   P-value RMSEA &lt;= 0.05                          0.000
## 
## Standardized Root Mean Square Residual:
## 
##   SRMR                                           0.047
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   GP ~                                                
##     Age        (b)    0.315    0.098    3.196    0.001
##   PER ~                                               
##     Age        (a)    0.016    0.018    0.869    0.385
##     GP         (c)    0.093    0.003   31.333    0.000
##   PCT ~                                               
##     PER        (d)    0.002    0.000    4.780    0.000
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .GP              645.883   14.798   43.646    0.000
##    .PER              21.834    0.500   43.646    0.000
##    .PCT               0.023    0.001   43.646    0.000
## 
## Defined Parameters:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##     ind1              0.000    0.000    2.647    0.008
##     ind2              0.000    0.000    0.855    0.393
##     tot               0.000    0.000    2.015    0.044
```

---

## Parameter estimates


```r
parameterestimates(NBAfit3, boot.ci.type ='bca.simple', standardized = T)
```

```
##     lhs op       rhs label     est     se      z pvalue ci.lower ci.upper
## 1    GP  ~       Age     b   0.315  0.098  3.196  0.001    0.122    0.507
## 2   PER  ~       Age     a   0.016  0.018  0.869  0.385   -0.020    0.051
## 3   PER  ~        GP     c   0.093  0.003 31.333  0.000    0.087    0.099
## 4   PCT  ~       PER     d   0.002  0.000  4.780  0.000    0.001    0.003
## 5    GP ~~        GP       645.883 14.798 43.646  0.000  616.879  674.887
## 6   PER ~~       PER        21.834  0.500 43.646  0.000   20.853   22.814
## 7   PCT ~~       PCT         0.023  0.001 43.646  0.000    0.022    0.025
## 8   Age ~~       Age        17.498  0.000     NA     NA   17.498   17.498
## 9  ind1 :=     b*c*d  ind1   0.000  0.000  2.647  0.008    0.000    0.000
## 10 ind2 :=       a*d  ind2   0.000  0.000  0.855  0.393    0.000    0.000
## 11  tot := ind1+ind2   tot   0.000  0.000  2.015  0.044    0.000    0.000
##     std.lv std.all std.nox
## 1    0.315   0.052   0.012
## 2    0.016   0.013   0.003
## 3    0.093   0.453   0.453
## 4    0.002   0.077   0.077
## 5  645.883   0.997   0.997
## 6   21.834   0.794   0.794
## 7    0.023   0.994   0.994
## 8   17.498   1.000  17.498
## 9    0.000   0.002   0.000
## 10   0.000   0.001   0.000
## 11   0.000   0.003   0.001
```

---

## Model building

.center[
&lt;img src="Loop.png", width = "50%"&gt;
]

---

## Bootstrapping our model


```r
#install.packages('bootstrap')
require(bootstrap)
```

```
## Loading required package: bootstrap
```

```
## Warning in library(package, lib.loc = lib.loc, character.only = TRUE,
## logical.return = TRUE, : there is no package called 'bootstrap'
```

```r
boot&lt;-bootstrapLavaan(NBAfit3, R=1000)
summary(boot)
```

```
##        b                 a                  c                 d            
##  Min.   :0.04561   Min.   :-0.03977   Min.   :0.08148   Min.   :0.0009711  
##  1st Qu.:0.25156   1st Qu.: 0.00430   1st Qu.:0.09061   1st Qu.:0.0019390  
##  Median :0.31844   Median : 0.01583   Median :0.09330   Median :0.0022062  
##  Mean   :0.31566   Mean   : 0.01602   Mean   :0.09319   Mean   :0.0022351  
##  3rd Qu.:0.37691   3rd Qu.: 0.02838   3rd Qu.:0.09580   3rd Qu.:0.0025510  
##  Max.   :0.66078   Max.   : 0.07148   Max.   :0.10923   Max.   :0.0035743  
##      GP~~GP         PER~~PER        PCT~~PCT      
##  Min.   :611.1   Min.   :19.42   Min.   :0.02203  
##  1st Qu.:638.3   1st Qu.:21.27   1st Qu.:0.02319  
##  Median :645.1   Median :21.82   Median :0.02350  
##  Mean   :645.7   Mean   :21.85   Mean   :0.02351  
##  3rd Qu.:653.2   3rd Qu.:22.39   3rd Qu.:0.02380  
##  Max.   :677.4   Max.   :24.80   Max.   :0.02511
```

---
## Important aspects: theory

- Difference between moderation, mediation and conditional process analysis &lt;br/&gt;
- Exogenous and endogenous variables &lt;br/&gt;
- Interpretation of the predictors &lt;br/&gt;
- Calculation of free parameters and total parameters &lt;br/&gt;
- Model identification: three-types of identifications &lt;br/&gt;
- Overall fit of the model 

---

## Important aspects: practice

- Building path model: both continous and categorical exogenous variables &lt;br/&gt;
- Calculation of the direct and indirect pathways for predictors of interest &lt;br/&gt;
- Adding an interaction to path model &lt;br/&gt;
- Interpretation of the coefficients &lt;br/&gt;
- Getting fit indices of the model &lt;br/&gt;

---
## Literature

Chapters 1 to 5 of Principles and Practice of Structural Equation Modeling by Rex B. Kline &lt;br/&gt;&lt;br/&gt; 

Introduction to Mediation, Moderation, and Conditional Process Analysis: A Regression-Based Approach by Andrew F. Hayes &lt;br/&gt;&lt;br/&gt; 

Latent Variable Modeling Using R: A Step-by-Step Guide by A. Alexander Beaujean &lt;br/&gt;&lt;br/&gt;

---

# Thank you for your attention
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"ratio": "16:9",
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_HTMLorMML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
